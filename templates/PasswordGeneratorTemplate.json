{
  "$schema": "http://schema.management.azure.com/schemas/2014-04-01-preview/deploymentTemplate.json",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "Password": {
      "type": "string",
      "defaultValue": "",
      "metadata": {
        "description": "The password value to use or generate randomly if empty."
      }
    }
  },
  "variables": {
    "lengthPassword": "[string(length(parameters('password')))]",
    "genPassword": {
      "0": "[uniqueString(resourceGroup().id)]",
      "1": "[parameters('password')]",
      "2": "[parameters('password')]",
      "3": "[parameters('password')]",
      "4": "[parameters('password')]",
      "5": "[parameters('password')]",
      "6": "[parameters('password')]",
      "7": "[parameters('password')]",
      "8": "[parameters('password')]",
      "9": "[parameters('password')]",
      "10": "[parameters('password')]",
      "11": "[parameters('password')]",
      "12": "[parameters('password')]",
      "13": "[parameters('password')]",
      "14": "[parameters('password')]",
      "15": "[parameters('password')]",
      "16": "[parameters('password')]",
      "17": "[parameters('password')]",
      "18": "[parameters('password')]",
      "19": "[parameters('password')]",
      "20": "[parameters('password')]",
      "21": "[parameters('password')]",
      "22": "[parameters('password')]",
      "23": "[parameters('password')]",
      "24": "[parameters('password')]",
      "25": "[parameters('password')]",
      "26": "[parameters('password')]",
      "27": "[parameters('password')]",
      "28": "[parameters('password')]",
      "29": "[parameters('password')]",
      "30": "[parameters('password')]"
    }
  },
  "outputs": {
    "FinalPassword": {
      "type": "string",
      "value": "[variables('genPassword')[variables('lengthPassword')]]"
    }
  }
}